{% extends 'bembechat/base_page.html' %}
{% block title %}Sign up | {% endblock %}

{% block content %}

<!DOCTYPE html>
{% comment %} Add "load static so the stylesheet can be used" {% endcomment %}
{% load static %}

<html>
    <head>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="{% static 'css/signup_page.css'%}" />
    </head>
    <body>
        <form method="post" action=".">
            <div class="form-container">
                <h1 id="title">Sign up</h1>
                {% csrf_token %}
                <div class="form">
                    <div>
                        <label for="">Username</label><br>
                        <input type="text" id="username" placeholder="Username" name="username">
                    </div>

                    <div>
                        <label class="label">Password</label><br>
                        <input type="password" id="password1" placeholder="Password" name="password1">
                    </div>

                    <div>
                        <label class="label" >Repeat Password</label><br>
                        <input type="password" id="password2" placeholder="Repeat password" name="password2">
                    </div>

                    {% comment %} Djano will   {% endcomment %}
                    {% if form.errors %}
                        {% for field in form %}
                            {% for error in field.errors %}
                                <div class="alert alert-danger error-message">
                                    <p>{{ error|escape }}</p>
                                </div>
                            {% endfor %}
                        {% endfor %}
                    {% endif %}


                   <button class="btn btn-primary sign-up-form-button">Sign up</button>
                   <span class="material-icons eye1" onclick={showPassword1()}>visibility</span>
                    <span class="material-icons eye2" onclick={showPassword2()}>visibility</span>
                </div>
            </div>

        </form
    </body>

    <script>
            {% comment %} Grab the password field {% endcomment %}
            const eye1 = document.getElementById("password1");
            const eye2 = document.getElementById("password2");

            {% comment %} eclare a function that shows the password by changing the type from password to text {% endcomment %}
            function showPassword1(){
                if (eye1.type === 'password'){
                    eye1.type = 'text';
                } else{
                     eye1.type = "password";
                }

            }

            function showPassword2(){
                if (eye2.type === 'password'){
                    eye2.type = 'text';
                } else{
                     eye2.type = "password";
                }

            }

    </script>
</html>

{% endblock %}